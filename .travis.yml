# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: HxvBg3X7AYWxK2oG9ytYYpR3KfKVIYF0Y2lKc25vRqxifhsiNG4S8B5QYf/lgabwIiNs1F66nSIoKRcbLLujwQQaI53hDOs+nkcdep6jeuBCfoJaTaHK7LHy3S7NDMQ0hlPuECmQg66qyvDXDgIQOsBLwYlw9ny6rPMhKEWkyxzhoo/3N7JwYWL0UgMkGB8DG4rwMJ0ruOD1m15wnzO582CwpCiNqTStcdhKf77xqi0AFfdU8XYLEg6YX0iuz7huYR2gpkFs0nbHUTplTHn/imC1B7XfYIHoP9MnwxPTBiiigKZX4uoMl8WrrHNLHvGsp+NsWTJqcxgKazrvgtyWOU9xKcqyhgc3s9uFDyt6MuWN5akB+KpzIMxHO5u5nskSdDHicjulhRwUqZZk6aJZE74XEKcoHCTi2QGjq3CP/t4v33Op8N0m4yyfijtTlkXnqfXVPEwm2w9f6Wi0fbFoPeMkQCQuVx9nr3Po2Oia5ZcZ8ws0V6NC1DrpP+EW7m7qaRYjlNH66SjhGZRfWgDPKpUSEs0DGg9XWokmbP3NmYwMUdFQIOVUZheyvXOwVLXique05E4P616hfWwQs1ppARploM612CIeLSOO/wOTbJiRQZzipfnwE3a+FSHZrEDNpBcP4/WitCKf5zzafUTwTYiKRg42TDMmVAdl85ekeMQ=
  - secure: D022WnkemKjk7yE7SpOcqiAiLHSDipz0mPBCFjzJ0H6sAeAdJ93xtMcwjS75F3qtSiQ2Y2ZMc5VrIgGy0yA2RA+24br12x2bn3l+XtOFzW7HPuhIdB/i2INxlWx1me0eehGkwvUXeLnauTGKXnMzewvItdip5rry4C+NQLrbD/wJvVB/7uHYR9f08h8q4MQUdYIaZS04yLL1GoBO+K8laqZlK8QVoswGO6hnfzMqOu9slbKdY3PI3++LRMxa1rLExngC6mg+8PJfSkmbsuUQYCiaGTiQ8XYXpkvwu2zXaY79nTqIcZYos4i0CQXN3GdK64hgnurvHN54aPai6KaKAkDB9Kz2d4YhzN4DVnd5hrhNxVvpYp47kEiVjP4ZrY94cHy1U3FPyIGuZd/w0CblsIUoSQifKeZKBkAkm37PBwWGgbkxhCI6WZj9SjKNy0mQPxThq5NwzKjNOCLkmO9vJP9ntdvRcD4J0qJ0js5Xaj9kDVpHm3LlzAgaJ0mxfZsAUMrwDHZG8U7NhWdVY48crt+VzvBzYbrzfek57yoRI+hfXmx0MWKPxLBMlanyhnj6lKod2sS9t4waAhgiElXgbPQUXkrZJvWm9/K/7Duk9TB3kQ1wpQJ/RVHxQ02DXRDWFz2ibLpFE0RZxHvRkW+INyKwkxdVUeAPbfDIWgobBEU=
  - secure: CkuX+N+4muuYhSa8vKKcUok01o9oWPZntdhh7zPhKXU8vASZx83mZslRZfiFjtV21Nkee4eSsQ0IJjNW9JDoPuDlhzjAfaCCNfIkonuxtHsTo7wKseoXCF3g2tJJLWu5WXRs1IhdKiURzUUCRsOj9e5I0pbUeH9qtISgKSux+1rGN/Lr24b5nusa2E8RCBm3DBXc2yJCLZg4r8JhvS2gHP5Sq6R2kyqLZTraQTcKXc7JDFkd+bNgj37ttrQY4yvqJ0C/Bf2iFEbiT+HaT481qtZp7IEJHWdMo8YrXwH1NQQ3bLbNNjUA+RXxy9Xl7wRkNBDrVAF3XPkd8fV0sr8Kw1o7uQQ4B1DNQk3Trn3acVy3UzwdcDto6+aiwB/6YuJfc8Lk68rgtHidnjK50mP+nP7gP+wXwkruBfMT4A3jMgm2P+JvRL0VgX/hheSUTtTElxPkg5n6fwPBFseH6QHe+mU0qHYCScX3ack7Lh5Qd7+wNicNdUOsoBcJOYPw0u5WRQUm0seOWwi8aI2pE4Jcl8OENfz+e0QowSci/AvZNbB6O4t08PRcc7yVfxawuqVhe2Sdi6vgGcupBH3FdFmioy3v6l7aKT9QIOlGbFdyeoOIDpSpD8cBcmdK+Yrmxge9uIlr8CW6k9mVSUIPnf2TB2wGIo2q0mLqW/NojfiPxXI=
  - secure: qREuS8NW3QSA3cTOcWiOwSESwUxenlD4rLzJpWLN4DALkBb5zAAeCbfoSrNaplpW7Zgx3rfUZQhPQZ/2ITfL1bbY1bWumU1yIKTGztfEWca0st5pPFn1dy+K2Du2cgwR8PSkrpL8OSfuaFfvMIhHE6U7b9uh0wHwSqWPI0xFdfyP+84C1F4/ndbLFa6vzputK923HFd80b/IBxuf7vAjHuqy5UKz1/WsbF4yFpFlHWshIGPfUivIqBBBoc4sAjE4qcNi28nGD9BlyRZZUz/vXvhIVKzXwFr8K9ZzxEnrylA04gsYGUTumOalmK6hPKkgfqyzG8uiLcCdv8kra30CP4wu1+KlMMmFEjsgo1wIFsbIYr2dPkgTvLfF8A09N0EuyIpCbkPQwOGwJ04pBQLy7pJAlXvXwC272Ej+PN4Ht+5CRv8nu6eBOyWJXM4g0NvN/wC29UApwNcR6xeFj9+A47nYqax5kIKfGlvVWKFPZJXsaSxIF+Xta/aHSH/J2jRqSegFSzRIgXDoanhtn6oJlMno6gm06RWcF0WsU4lMbCIVambGEGxg2fHcZL8qLMGISVlEAWWGK1ok2TfDp30DdcUcbOJULT36pzXMyZd5ArUoLI7giSCpXVaD9si12uTQYXhv/XXnMz0g795MOIiDeG70Lpg7Jih2Wp3mGV/T4ig=
  - secure: b6ES4qQP0Huuk79+i0yEvGB6RpFgwIsD1B9wrFw2ez0+lh92m2Pitb+FwoYngNLwpVK0iAna/1OYnfTYLGlS14KRP7fYNrJUpJqCYOtgzwKed7yOYOpedqPkDwhjeOSatXISoxPBvr7WYpqSdtxIht+Vp8yNbl52PThMe+Wuo+4xy9NXdOmx9P1VppgO94J6gJ5IbRtF4nzRUDX45ftf1QtUoaHUY0J28ENtPyY2KKxdMM83sD96ahS7Jpls+GY6rUWa5pRccVaEeRxECaM+wH+hBpt8ANfYz75tjJpRbMLvhz0/dQ52/d5+r+IuZSgTat5wZnqqb5ZQpx32E/ql2vz2iprU4W4xd30RYwvYfMLrlEXmOEnDLcl9EfYBZY00BL/R3IL7H/N2RwChRf/K+WxUmSc2SaS/3Aku7OQOVhFIfuCiE/4XFzRXay0pk6NG2saBPJCjKBqrzqyn1jfsfQZlosCY1Uwo5Vp1YbsdURSUAt06516msrVG4X8jkZ1TJ4bVqEVIBX1u+fBaTJrd9QwjwcHLeL8vBDqKz5B04p1Bw9aLTVrh0q2QbC0RtXJUiDZoYV4TNERhyQV1o+LLXusa8xssjtqbTdzx61Pr7CbApRco3zu8AfJHIWbXlVOTo8LDMv4Q/m2jRRwsDd6xWNemNxU7jzAYn8E5BGQte74=
  - secure: D+3fMRScVkebAS1OVTbRXo5OWa9EfkSPW40pWpulzrN3yIPKnnMvKHbKrXsJVWpKNYoSwRd4qthWME6Twy9WY/6K1KljCHMxaoZxMunROMwRvi0sAHLbxH/49sSeYdMjewyH+sAlSrfb0KbYeWxBELTdnz9IFJv/RVLTMZbb67O2tdGBDpf8kdJ38ZCKZ9K7lUnMepJvohsRkJNfx2loIyVanptNYbULj8F5QMy3HuZt+HlZliG1vw9yKGUEEGj91LrrPKYlN9+Vs5w2DKRANj5k0kA7UJhcIQDtlfYAnO95A3X5z7ne9RPhwlzs5BUNgXpqKgkNicgCa17Ku6y6eEnPvKG9RoMIRoZX8Uda4/EKTMq1xa434W143qUHapNysTQOvw7Wg96Pe+gEPV+0KMvOBdQuZFWgpUl0zyxOCUqISt7oW9LELvJ5TwLpH0JDzJdb68zaH9WDUmqNOrLfnA/5Be+wfvq1CxrB7nNMjqt1NMcgE+rCz5aOxzO05lv+CLaQOZMlg7zoVb/i/+F7wkRjmOTWxdmTbPFkLWuwWtfRIDMxBMSj6NTXDHhQbvjgDW03JGkwCoKaazdQGDX82oD9zSdO3A6Yf8WsyjRvzsFFsXIOo6Ti2ppjN0X7sUwVOQ95I4d9P6i3T8H4DUwb9JnrvwA619CYwIneKYIdYdk=
