# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax
script:
- 'if [ "$TRAVIS_COMMIT_MESSAGE" = "Update README.md" ]; then
    return;
  elif [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: IDQGq3c3jmLXP5wSgyl02zp4+zw+z1qWN+eMpWORXtXkSZ/+d3MqKFqA0U9qmdKGuoxoKjtIiMKIOS2vMGzYvspxmrUX6w1AkLvrA56UKX5NwzJBinnhu98iR8xn1cRRt6VAgLE6q08zgE9W9+gHucBrZP3DaxGCTFlzq2zO/WPZn5Fi+sjoTKeu3crT379kbP+aqzgszK+hHIy4WgHWopRNRSHIE+CaDpmdUG40KuJ5Joau4Eb3xbkUX8Qxxuu4mItaNbHLz/Np40kgEXZYn/XGWAVwff81OsyA+D1WMwoLiIIPtuWM5p+wTj0B2UZrBNs0lzHnG/dMZZ6Bpp/pHnjRRuiJrXcBvT/zmWP8BYiJAkoel2sWfmD3XZDrmAg4bky9LQOx721/Ldu3AgLjY+gvDl0ycJ84vbUwENEdXOEG5sg33ZSTdNjtC0HQ6IjEtFb5Q9UbGTM5jeCzxWdejdehxmiUqkx7kvxRaoE2MjsKIrgjQIhH1AxMRK/LHXjhpXhLd5uzrwQhRzyF6zkHIIcDoBGaMTzpaoZyNzBRbxVH8qn42ebFoTXLY8l1/q3mUGSTv7EBrpP70pmV7WkjaGbZORRyZd9Hx9/GpUF9PknSE8UoVk+hqoJ8olm2CQDvzFrSocI1Vqbu3Ogf4QYJJkCAbsWCCpcjJk+60+AwOQA=
  - secure: AoceyvCvZiqXLXGs0WcHI7SSqWD3+V/sp+9WkOz29pkvBA8noHbw45LyPwZwKLIzWJRsJen0S8iCj6YYExKGjI23yqZtOJ1rXO0tNfHv5RMwbqwy4FlGTrZ5UDmO7WCHjLoIG2o4zliXXjHR0qxFo+T182AcXLxSGr1io9xmUi00oigbJx/QMJ+fG8U6fdr6KTCM/NSA5BC0+6avEVs6AVTcos84fcjZvbutK3ZvDdRPBxy53lvp4xMpIRIoGjd6viJuC847wOacsVbqPacUdbl80Q+xKtkyQ3GQ7QY1MXJszZWRSuVrLyMYR+dVKnobhLbq1+mYcyN7NV1FVDlYAFLpVNY7WCC4q/zMx/dXvMY6LjDlthsA4cB/W5+ErG8W5WdSiJJHrkz50qJRSk4f5r0uSc8BOWaa87jx9FkAbNGfxNrxh/rnihtIhK/DqK7ixY+3757N8A5lhwgnwG3vhu2XrawPb+8DmjAnvX5kizOWmzEA72Ke+944dWL0RlJHltKTz9rvVlHAWQVnBiKG9ZedKRsV+pxgGNiHjEj+QVq8RcKrN5qOzg6WuCfggOTTrQFT5NCdcT8vL9KKSHt8txgZNtw/VMZMBvJKcIVZHNMK6DxCubTLPTnYIllpU9SOVkIJ0dpMC8sTyYAi4Uv/La7LbG29o9e41WVVSCf6Y3s=
  - secure: ssNGTjW/Rv/XP/s8nBoDpun4vc3LGUn5p8B4pvgaTrbxVMKuecVYy6LklnA5972DLdpjW3OZLKPjGw2nULyLHahtYI6rsnki/y4esHtrOGswgq+5p+3ExXeDvsxpi7wu7zXa3BF6WHXq4UZ0GDIIgysa8wgRr3UF00Go9M4C27GwbTO63K65qOlp2DVS1+XzOYm2tMr5VcTvyIwpQ8XCKFdNXw31sh89j5t/j4qZ59g0UjbHa0yrOAKAPnQt8xBnvFvVOfaM1IYy9IWigyMlAxmqj8DV49Kbhe8l9RjIQhRqcMPYFnVG6PA48PlzrBdwQeWTLn4yb55EVO+nL0UAmQc6ZQcnf5EYWkx2b2B0Wr0UcuufLgZQLm8x0ipCT9iSmZ9+EASjVWOLAuExhcWJDT1e4IA12egoIeQlcGJrdaXEBSh9hhQ75duixEUJCAjf6GbCQY8DtMQAb4qkqa9X/+wL8eD0TwH3EaABC0iVmV/GPBJVvVaDSO36iC+BtPPwZjcHSzU2sXtISlgOq2uaK/eEpmePkIamTYGqCsswo3Srep8n3dtQWHRyX/kn4W/92gTcZiF00zdujqKqynlhHg9I8SEC2FYWZSq++UzapvHq79Upki0O1UvuB0zy2wdsj4EiQgh3x0YUWXDEQkvJffZWQOBvjFkNfvkJMMswcq0=
  - secure: Z8Jk2n946/6yxRtt3TUjVn6GDJjDesyqZg/iisFJFQ4m1gbw+yQ+GzlZF3gqGyCGQjEU6GyEu4yWlWVPXJYhy5jy61Ve6pRyQtQIi2+xF3Q8kYoHQZ1GXmCZ/IabYexftQ9+cUtLEWMfwDNTL0pWS8ZTiKLCyyPIAwT4P6jCB0t12PI5MbSSywv5ahmm6KQ1LspcmhCYps8AMwV8sZ4J6dN8WXJJZ58JPU8sIcr3ziu9atDx1aI2/zbNPTfVv+8vec9QbwxV/anwTyTIUiTQbfayb9AgUWC/7zhTjSzaD0i+lEWl+KnJeYqJgurErdCBLJJSOfuvbbBdWYLc5TAYkneOvfLwg+r/voT5KXlzM09cRmvosP3UxXtL/AUi13KIELV54QLFfWmAUYA6AiiZatWiLYQmiwExPWyImh4pIK+CXz3yThEnbXsuBZJC7/K/qHUisp3IXiov8X4d1GrlQ93QCCe46/yTd58OshV8VNNjgxOlBEF89/vkPhAfmW25Btw6IaUM8u8NUeLfHLVhs4Q+mddA5Z8m75Le2aH8htiUNe1fJNwqL3AI8V6S1iDWJBop51eGgEnyAdq3c0T6VjmHCVgGtr1Z3HPDiUdSr7a0GoPyRyKdIdsxmyEEk8qu+ILzhN3wixSu7splAuLOztHxrr3JeOttxJsvDQW7nxg=
  - secure: UFYJ8w1xlhir/GNT5l5HhRcRwqGOXvpsu86x/nbTyCkOB/Z7iFDH5/FA6GvafSLvwjWMIrk+Bhjm7B59QdFk0xSs+h8sy3NS0tpu7WIBfd0mdrsKcU8EPq7eTkcY5YI8qXzmY8oUVTcocF4GYkexAJXUjVO9SUyoWD55gjvw73T/9p0rVGa8dTt3v0RHhrG7igEnSFovmXD+WWQtNsyyhff2I6AvaQ3mFUXt1qTz1JpZbPYItyYD0J/6+nwjWnm3uoHdhLrEx0L32sXWRCs4Wf57RvORQMcDCsS9nPAO6ifF3vT2un/fR8jYsqnDqdPFGH8xSm6Fop3/MzKDay5F5u4sEJpLghrqmN0/dlma7McMeixx7I1m/50C3IMGuIgfC68mm6iF5yoccgmmKHmk2G48ml/wCaWC0a2bC8QTSA2RRMfsYhCULR2elAZQVKk0ND287WAllJX2VE4kVqWipH1ZpAmfiCU1ZkVEBqNX8OsFsZUH1y/VKlNfn9Oyq9imLM159iedSviT0RppP44atBlHtowyjL4wYT+JkQjG+20WurHsTTHAF1m9sw4FAXC/lsrLyEIqlulA9Utp11zaxcgan3IqYYuP6w44BljY5OLmCrJtWr8YcyW15T+FIynuzNOQrQ6RTnVrIv1oiZ4B3IDjRuffqyvly+I1WJC0D+k=
  - secure: Bt3T/Th0SG25WsQ+BiyUaSrRm36YufnXxVEIG9gMWV4THL8F9p9bniiTbHww1iGdTkZDYPuovypMvEgHOP+qq42baqufWLoSZvB/JzaPe16imScM3sRYXRLZllNdMHIGam11T5Wl+yYmX8q6sApkAw9mamgf6Wu+5FH+8tgCi95iXK9CKBri74fsaRgLOp6ID1j00iCt700d3aZ11bd83F6SZ1QXgeUDOP1MLI8K7zdm+1amDjUrENAY6xH4sEjJmpRmGJTyawGZBNw5XdElF5x9vHGsgtERJqjib2Uj2GPJ6n9zGM55unaSSHu0TNbPy76K807/tmmZnh69p4+7UbIXSoGGPGBdvQ0PmZx3EUKrE4zyBNAwrcy30OB0TULHfQhNFK+5wO5OfBtxw2+Oh5cuzVZqK7kvOpf0n/yd8Nrl9+qDFkEOuQXH4R+h7kDF875pxNj4Yx1HvuvFueobdU3faeeIjl2H5s/jPh/RkUGE1ng6teBox4aKhSusLjQ4yF6Axn0WRrGyKCEsGwrlt+AxTZAxw2E5/yFxCx6uzesuE3B3d8I+YdCXMrVkuHdrEsnbrYxUHAefh5gQqzR4C3bAloKQPv+or3i6LQ1mCLpxbRi6VwGzg65xhcw9czxGDPubFoXF5IKo5gUKu25bxxaha7Afh/eBnNYhSYSav/E=
  - secure: fqPuJ/fHWX8FExWq/KDiY6BDjZNw2NNpiNZNvlPmy1k89yIPs19y7qtsyWJb31eFJpgeDyD4xm8E0T6LKjAEbCDViuG4MKcDKvZaTsBqlKdnrr8UOyJ+Qiain+djotim1yKPUDXgcpbfrO6wL1Tsz1wfcGTCZk8bRv4k4SRRlEzvF72bHcNUhmbCZtBLvU3g6xM3gvf2uOk4iv3JwYwXEjyqo9F0VSw4P7AUEBNTJQsKnKanqUpp1lihzTdEGv9l4nw2Z9SfC50/XK/VSBmQ+PLdkJwTFxLTDBe6rtLmosQoDwSEAwdrxamIlu+tjm140h4RDKbu1eriN2jWfrWd5RgRQ9PSW86w+NtyXp0p8Gc8JhuGGHt+N203O5P1iWqHS491NVmt8RgyHdEK846aaaE8tCZxGi2UQZl5/R7s4N76e+pNx1+px2yqKeInIkLg3WSYBmivtpNL8Joc7t9icihi8a/GCe+wSnmbK+aUECnm8jCShEsmFQW9VVSfF9yaEclEJhTp+QCXuLGzvIf0xyRkvA08uYXc944Z/F0Fzm878eGMuVAFOc33dEXh3Qj78CJ0DsRyRX07LQRg8WDF41BYXMve7803MZOB1bvoxrzTgOSbq5Tg9H3VieKw6YFy3KjyBR7Xi+MbFQ8pCm76z8lkuc6nTi2t4vwK/prZCbU=
