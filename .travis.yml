# Copyright (c) 2018 LibJ
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

dist: trusty
language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/libj
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: ODjVmpnWLtV7NfAz4IxXLCMCOaVJTcOPkcFEpvGMqIDPyztUdSeMoIAzuf611Qz3KRdrX5Jx5j0tC37nj8ovhNhodo6a/pTTtzfSUTS6y1StzAGF/JDbZ7EWl00H439127i1q0kJPku56QEaGQRQj5Z1xRiGeU4zbhXB+xqMvFTtpxofpf1FNhaWbeKu1NXxGTlU+96U0u+RtuPXBc1DTgczwlzzfZ5cyUg2V7mhb7A28V3Efe/D7SBHE7I86EdwPUjuNBYPfvYTuEaQQ/jaTRqP9a9NpRQEOY32i01JuyWNI80zxpt8HX5y/oYCbrCfdN8qBcCFjSuQPhq5fqVDx1dT/EgpBYO/ZSAbYZYXf5DEcW1f7eXejbLiFaLfAMzNA8zD27oD2KH2noUJ2Te9cQNuumr1vkSmCYJtGdo6TdftuHBsltqr//1tUjMb9+RsjXKPYVvJckwDo9Oz5xOelsJ3UAz1lGxbttTVOBLqg/kC45PvrMnS99jX4kFiIlPGxVvHU5sapnojWhqPtVpK83VWKXiz9ybNNBrNy+zUABQ9DYDMhtC7oyLXQp04efGSvVBlN29LaQdK/nNQuGOg6waDuII7pgrZjv1qlVahxMYV6I6kwJEinwLCYbpm1rQU65MFLbWwYfNeyd9nGUWyb9Ua9e+NNtxCbeZLj9cotlk=
  - secure: VXMKyvB1cITLHBRflE80kT87OW1qgVJ5sHBx24SdweXKL+T1ord1e8XVFNaStHvDpFPHFJUNszomYislS1PRIBmtNgDU6jqZ/VeWSfZwJm72eWyGRktjxtdVw668e33Thr79nazPzWX4uYUB+nNqYvmmtO1VRY1IIl6MolnJ/+hKC+DIg1jMazXXXyJfDeqkgqH5RUwt1/Kc2j/BopKeJa5yDVFys8QkX/p7YmS5R0mYIJA4cGFQEpPPEnESm9xnsLs9iGYmZN6vq+HMP9t4iW0Xffy5Tvo0IrLMdcZDemhFgLsQAwWfPqZ7+o/czIia4goZBRDzYp81QWheSRchY0Cfz8NDdZXVhXx/JlZJhu95T1d5jyi04X25IarfB6mKb+8vsuJtA71t6pgyoBNVmej7y8qJRMgBTH3yDzTPh3O/odZX/fLmgyh204UH2GQuEDaS5ZAkIamUpMIefUjoyvErtp/pjzv5GLLMoqyeVwghtM4SF0f6IXnNVMHbWVA1i/qHyQuNeu7mTS9eVIWThb2fMzP9JcX1pOSapokrRK2I+7Tlt1et++ipGBi1mGbnUlOJzYlyoUOy2ewqkvAsd/UZyW1gGOewP7BhNjD1Clksz7JJ0/yNChlUkHG7HtQCp14ScJsbDTli4yR8AnIromi7WzyeMgFGaft163C0MLM=
  - secure: pSW54cRZEVpHhNx8oMfk6WbcZgAZ/YKjDvLwF0TJm52fbe5xU4R+k2RuBk5JXV7OYJc/rGMRXrhriwuCbgWv7ZfHOrgJaJ+ocbPRdwECKN3waDi369ktPz3B2XQ8z6dvWX/77i3hO5qyfCI2/a7Gxyo3NqqDwusLezVROZZah8zg3QXDe877KAVgGI5NYKbu0/yZcBmFHjQwrDqzX+dB5MXjt+sKMcBfDESxDUAl8BQLN5v39BayBZLDpJWldqVsw2U1axTPvod9C+0kh50e5mF7SoROcDXHEWgDP0CFT1rLB3pq+2qIgfid1CczyfHGf9mxWFxL3M9RyAENAs9+t2orKqXe6YEBd+E3uwL4WJ10vlpcR3r6u1poKBLDqGEDUDAvkazr/lHKUgAe8ySSGPjCa6xVo5CDtJkDHCVoacg7T+iJ1v7ymNpg3aD+yB5fR9DuecnkMH0NfUw0eR8gKv9T9I3vlg/G3xkclQUzUqkwr1oM36CZz+4LeC4UMf4U4fq4tTlbdCr3VRyfsbH77CPWe9yspDoDTAd8CUCVao7gdoWmpJDP2zVbqPfkbZJGJ9fwm2mJx7QrzFktl/8cQRHnvhsVtKTEYrtjWBXL+JZpeDfB4NdHinMlsQoOJOl4fx1x/3/EhPhCUul3rKGZZEujEjCKtKy96gDEal/uSss=
  - secure: BA/9mnDtjd5qS7hbd09xN9TZ9jpd1brzHtfz4Unn8Rr0bD3ws2L43VWLHHaJktlcnK9V0p+nDkU4cD/JYC92HXHFwTI79d0jgrtptHU0Z7qLhTrqwBrdfZr7bwGA/546Vny1+3d+Pm9P33Cn9SjHSGlP4/Sk2WA+1CutXyvqsn8lvnse7DG2/AQJXEiW3OH/dEAQwbd9FNQUFBreYrBczSAlia9sCk24wiczW+wpKi85/ER2VC73AWaiRgOniU8BzSbjAoH0dwG4wgTylO7tUNG2ukcvFs6kRa3qAdK5nj4AMCvcShNrNwihh8jw3vHalX85OBh3bZNRzxXVvJDYvT443991D6wyWc9y3bfZHbo6XC8Hb7KZ+UWHQJ5h+eZHxDvogICZIQ7LTtfzqt56VAzT72EyCdJWwOvS0ymRfSpibC6mttq8Ai5SX0uB5+tYzbE6v6ep0vXvqcdECj3m2LrYvbjTNQUwoeI77IQL/yIfgQsseLwZiT52/QUmNKHJq9KXaQ/+f07VcD8RZy1GB6fLkHd3yHs83kg7t4ASPw+5niOTJSzReD7s3293rfBHaEYdry87eaTJumoEHi5Xu6Xe79NehAHqaqqV4dd3jQEs5stJQ2bRHZkigUYz/zlfkgEhugpZmXfbqXSjfU64788XPiaoTeIpdBdJjRFl7+Y=
  - secure: dI/cJQGJa5aVYTMDm2vkCdOEyg1MWODg2citsLzdtlgdOpmVXAR+P4AB+JE7ez8B06DUy73wKSxUtfgws+u0owQqVE+brVTjrUMhUEAvu6Qr9dHcYIzYyrcXPDr3lHqtqILVJk9+s1ovGtZWHlUAfljtGvFb0tL1Wmiw2sWvXifa5LiuQ1p2l5BMlYXK6UI76PgI6+9YvNGnd8y1+yCoWdB72bqXb9mWwWiqtZ94qVx/iTg/qFhXT4KlK3iQZTJFm+nhcw7hEOlg8zS0UUnT1PL1pJtlKnPBRjAfq5pgFCbu7iZjQRa4LSsYcMABZ06KLYwUbTPi+9+iHkFp9E9uGvJ6cOIwaBoxTuMsrQyNDN5ZKiJdNByBOLOOjwYcIRMMjJIMmVRZQtcXUF5914udQuUYsl7hjtCd1T4bP5k5v3O4h2qXz1UgCO7jJECo/BtMdJ/c+k8k+rCDtzIQHFy6qFsRXeg3DWwEHy+K37+LnL4OKEKHGgFv0xkKXJEgpaYOuCgHixw4Xd6AYBnKEUJTfvu7ZTH8r84AO9nIBNBuwtMFtSfKe9jCH9G1AfYjRhKl0op7643xt6g+U5vxwe387CFO4mPFIgxF8K6FYSr2K4GCLGrB2r6xXTdGx2J4XWzPQxrj41xF5HamWSdfHYOPeyOkKRvxO5sslwrO80XZ6WM=
  - secure: U77fhKsOhmIuELvE6MVY3qWzOT7VmuJhV6EJmr1ziLWj/RzXYpN1Hjh2f+7GRGgIjVNO5Mm7EwUtg/SeQyW127NABjm36Rqk4n9SSb/c6wx6daHc/7zdPmVMrNaEDoWW4gBHob3XLHKnPDEj0If14Xy/n0yDBWmb4cH05oTaee8pwF4Ixin7ISJiW93bJhCFd3RDINr9NUOlFhyTgQGG1JTsPxKOLFaB7XEBs5bB3NRtYwnrsttrUVvhPdJAWTad6BtswKQs5teN2MTpwJeR1CWngeMoaMqZkExryQ/K98eJ4ngJbeimFXw5ORn17Kiptr1SZWstDgpQn05Pc9PcDTPw5MHmv/n2hR4ik1IyqVp6J0uIYxkzpKVQQDNaxHe7zevY3WVyKRzWWyI66Z+sD7qjXW1u45X+mDorvqunhzEA7ZUYDke3YqX5RVbHUKINQdhuKxAndiOSFaHAM9Q+CYz20jQY83gyNgVADq/K5WkSDqj9axFdcGU4up7Aq55FpAblXKxM2ZKCl0gGo24kh//GYDS3SOnmtp8U5GLBiI8s5d8Jmg0oY8d1IUHNTDr3xbIpePb0tkNS0LnF+IShXQO6eE9o4EpewiWRRuE8SeUp7UCoXkD28iQop5szDF0wAGIP3LRmayRTq3IpYljx8f4N2UI6U/E8jKAO1CUCJ/0=
  - secure: lcTLvFiv0eefx7wC6OloI0dTGYPdICmNc+zY9BNzgchYK/b/r0TzzaFmwql6zzG/pwtecSS4pvkUW3jtYXd48bDLW4lSr+Vy57Z8KrFp8oAhtqPDe2jpEEGpfpPsCS5/W/s5BPTs7e2xRvSX6Hk12LqGkMvRdkUZqX2I6LL3maukg/u6vcCzwjMyOrKB55YAgw9CG0cZGPtj0yAtR+rDR/9SDqKSHeWxixcQCUMP/YjnLw1zktpqFh2wkxuRJr+V3bgtBx4S90g2TBCnjQ8oUjM7bO+jTw/9bULIpAIvLWyQGSTZSmcjwmv8fc3+ciQrxl848WHiOd1cQDZr2CjtyAMufOXjubjCmFNqTNXHlgV4JGkSt31jNvzScGxH5ygdz8El8gNFf6VCMFoh6y6MQ68fgcTZU4/TRMnwTo611Qgi3Wqo7CRPfcNHgnSo0GseoSj2ktaHzUNAQuQJTlNwrU+9amJQZJEDjp5UKqP/oPEcCDRFRBZUolH6x0XJEe6z/9pMN1tDuULf2WsERuHrEQSTapYE21QKHHS+ozGvu1Zz7tF5iRQ1VGPLGs6YInyENsN7s46rZm1nIoLw9ZEbL53kOij5MUk+c7KFa8/lV62Sz/XAQgioRMwlA+vXDsYgxlYmMBFDQxS/jwi2Oql5P2RalhlwOi1801KQ2xqHe0A=
